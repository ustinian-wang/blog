import{_ as t,o as d,c as e,a5 as a}from"./chunks/framework.Cjg1mlEg.js";const r="/blog/assets/Pasted_image_20240804184141.CU81PBO0.png",_=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/notes/tech-rich-text.md","filePath":"docs/notes/tech-rich-text.md","lastUpdated":1734972850000}'),o={name:"docs/notes/tech-rich-text.md"},i=a('<h2 id="pc端" tabindex="-1">PC端 <a class="header-anchor" href="#pc端" aria-label="Permalink to &quot;PC端&quot;">​</a></h2><h3 id="解析" tabindex="-1">解析 <a class="header-anchor" href="#解析" aria-label="Permalink to &quot;解析&quot;">​</a></h3><ul><li>前后端分离：v-html</li><li>非前后端分离: <ul><li>$dom.html(richText)</li><li>dom.innserHTML = richText</li></ul></li></ul><h3 id="编辑" tabindex="-1">编辑 <a class="header-anchor" href="#编辑" aria-label="Permalink to &quot;编辑&quot;">​</a></h3><p>统一使用UEditor，具体用法详见下方文档</p><h3 id="文件上传" tabindex="-1">文件上传 <a class="header-anchor" href="#文件上传" aria-label="Permalink to &quot;文件上传&quot;">​</a></h3><h4 id="outerfunction" tabindex="-1">outerFunction <a class="header-anchor" href="#outerfunction" aria-label="Permalink to &quot;outerFunction&quot;">​</a></h4><p>UE文档少了对文件上传的说明，这里补充下outerFunction可以传递的参数说明</p><table tabindex="0"><thead><tr><th>name</th><th>desc</th><th>example</th></tr></thead><tbody><tr><td>pasteImgUploadRequest</td><td>粘贴图片上传回调，你可以在这里写业务的文件上传逻辑</td><td>pasteImgUploadRequest = async (file, success = noop, error = noop) : void 0</td></tr><tr><td>uploadImgRequest</td><td>点击按钮上传图片，你可以在这里写业务的文件上传逻辑</td><td>uploadImgRequest : (files, success=noop, error=noop) : function</td></tr></tbody></table><h2 id="移动端" tabindex="-1">移动端 <a class="header-anchor" href="#移动端" aria-label="Permalink to &quot;移动端&quot;">​</a></h2><p>小程序富文本有展示和编辑的需求，可以参考下方</p><h3 id="解析-1" tabindex="-1">解析 <a class="header-anchor" href="#解析-1" aria-label="Permalink to &quot;解析&quot;">​</a></h3><h4 id="组件" tabindex="-1">组件 <a class="header-anchor" href="#组件" aria-label="Permalink to &quot;组件&quot;">​</a></h4><table tabindex="0"><thead><tr><th>名称</th><th>rich-text</th><th>mp-html</th><th>wxParser</th><th></th></tr></thead><tbody><tr><td>描述</td><td>uniapp官方的富文本标签</td><td>第三方封装的富文本标签</td><td>第三方封装的富文本标签</td><td></td></tr></tbody></table><h4 id="c端展示逻辑" tabindex="-1">C端展示逻辑： <a class="header-anchor" href="#c端展示逻辑" aria-label="Permalink to &quot;C端展示逻辑：&quot;">​</a></h4><ul><li>UE设置的图片有多种情况： <ul><li>单独一行</li><li>多张图片并排</li><li>设置特定尺寸</li></ul></li><li>C端表现：统一每张图片一行，且自动铺满，如图<br><img src="'+r+'" alt="[Pasted_image_20240804184141.png]"></li></ul><h3 id="编辑-1" tabindex="-1">编辑 <a class="header-anchor" href="#编辑-1" aria-label="Permalink to &quot;编辑&quot;">​</a></h3><table tabindex="0"><thead><tr><th>名称</th><th>editor</th><th>mp-html</th><th></th></tr></thead><tbody><tr><td>描述</td><td>uniapp官方的富文本组件</td><td>第三方的富文本组件</td><td></td></tr><tr><td>解析</td><td>支持</td><td>支持</td><td></td></tr><tr><td>编辑</td><td>支持</td><td>支持</td><td></td></tr><tr><td>业务使用</td><td>推荐<br></td><td>-</td><td></td></tr><tr><td>使用案例</td><td><a href="https://hellouniapp.dcloud.net.cn/pages/component/editor/editor" target="_blank" rel="noreferrer">官方案例</a></td><td>自行查看文档</td><td></td></tr><tr><td>文档</td><td><a href="https://en.uniapp.dcloud.io/component/editor.html#editor" target="_blank" rel="noreferrer">editor docs</a></td><td><a href="https://jin-yufeng.github.io/mp-html/#/overview/quickstart" target="_blank" rel="noreferrer">mp-html docs</a></td><td></td></tr><tr><td>工具栏UI自定义</td><td>支持</td><td>支持</td><td></td></tr><tr><td>点击获取光标，唤醒输入法弹窗</td><td>支持，只点击1次</td><td>支持，但点击2次</td><td></td></tr><tr><td>插入相册里的图片或拍照点击调用插入图片接口</td><td>不支持：图片插入后键盘会消失，导致光标没了</td><td>同左</td><td></td></tr><tr><td>视频</td><td>不支持</td><td>支持</td><td></td></tr><tr><td>表格</td><td>不支持</td><td>支持</td><td></td></tr><tr><td>音频</td><td>不支持</td><td>支持</td><td></td></tr><tr><td>图片插入默认表现</td><td>不会100铺满，会自动贴左边：可以设置width，class等方式实现铺满</td><td>同左</td><td></td></tr><tr><td>文字输入</td><td>支持</td><td>支持</td><td></td></tr><tr><td>图片排版居左中右</td><td>不支持</td><td>不支持</td><td></td></tr><tr><td>图片尺寸调整</td><td>支持，添加show-img, show-img-size这几个参数</td><td>支持</td><td></td></tr></tbody></table><h3 id="保存" tabindex="-1">保存 <a class="header-anchor" href="#保存" aria-label="Permalink to &quot;保存&quot;">​</a></h3><p>主要是文本和图片，对于图片，文件流来自系统临时目录，保存时还需要实现一个文件上传流的逻辑，将tmp文件变成真实文件</p>',20),h=[i];function l(n,s,c,u,p,m){return d(),e("div",{"data-pagefind-body":!0},h)}const f=t(o,[["render",l]]);export{_ as __pageData,f as default};
